<mat-card appearance="outlined" class="max-w-xs w-full">
    <mat-card-content class="p-4">
        <!-- Imagen cuadrada -->
        <div
            class="relative w-full aspect-square mb-3 overflow-hidden rounded-lg bg-gray-800"
        >
            <img
                [src]="game.coverImage"
                [alt]="game.title"
                class="w-full h-full object-cover"
                (error)="onImageError($event)"
            />

            <!-- Badge de estado cuando está corriendo -->
            <div
                *ngIf="game.isRunning"
                class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold flex items-center gap-1"
            >
                <span
                    class="w-1.5 h-1.5 bg-white rounded-full animate-pulse"
                ></span>
                EN EJECUCIÓN
            </div>
        </div>

        <!-- Título del juego -->
        <h3 class="text-base font-semibold mb-3 truncate">{{ game.title }}</h3>

        <!-- Botones de acción -->
        <div class="flex gap-2">
            <button
                mat-raised-button
                [color]="game.isRunning ? 'warn' : 'primary'"
                (click)="onPlayStop()"
                class="flex-1"
                [matTooltip]="game.isRunning ? 'Detener juego' : 'Iniciar juego'"
            >
                <mat-icon class="mr-1"
                    >{{ game.isRunning ? 'stop' : 'play_arrow' }}</mat-icon
                >
                {{ game.isRunning ? 'Detener' : 'Jugar' }}
            </button>

            <button
                mat-icon-button
                color="accent"
                (click)="onSettings()"
                matTooltip="Configuración"
            >
                <mat-icon>settings</mat-icon>
            </button>
        </div>
    </mat-card-content>
</mat-card>
